# RAG系统环境变量配置示例
# 复制此文件为 .env 并填入实际值

# =============================================================================
# 阿里云 DashScope API 配置
# =============================================================================
# 必填：阿里云 DashScope API Key
# 获取地址：https://dashscope.console.aliyun.com/
DASHSCOPE_API_KEY=your_dashscope_api_key_here

# =============================================================================
# 数据库配置
# =============================================================================
# MySQL 数据库连接信息
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_mysql_password
DB_NAME=huihuxi_rag

# 数据库连接池配置
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# 嵌入模型配置
# =============================================================================
# 嵌入模型名称（DashScope支持的模型）
# 可选值：text-embedding-v1, text-embedding-v2, text-embedding-v3
EMBEDDING_MODEL=text-embedding-v3

# 重排序模型名称
# 可选值：gte-rerank, gte-rerank-hybrid
RERANK_MODEL=gte-rerank

# =============================================================================
# 文档处理配置
# =============================================================================
# 文档分块大小（token数量）
CHUNK_SIZE=500

# 文档分块重叠大小（token数量）
CHUNK_OVERLAP=50

# 最大文档大小（MB）
MAX_FILE_SIZE_MB=50

# 支持的文件类型（逗号分隔）
ALLOWED_FILE_TYPES=.txt,.md,.pdf,.docx,.doc

# =============================================================================
# 搜索配置
# =============================================================================
# 相似度阈值（0-1之间）
SIMILARITY_THRESHOLD=0.3

# 默认搜索结果数量
DEFAULT_TOP_K=10

# 最大搜索结果数量
MAX_TOP_K=100

# 是否启用重排序
ENABLE_RERANK=true

# =============================================================================
# API 服务配置
# =============================================================================
# API 服务端口
API_PORT=8000

# API 服务主机
API_HOST=0.0.0.0

# 是否启用调试模式
DEBUG=false

# API 请求超时时间（秒）
API_TIMEOUT=300

# 最大并发请求数
MAX_CONCURRENT_REQUESTS=100

# =============================================================================
# 文件存储配置
# =============================================================================
# 文档存储路径（绝对路径）
DOCUMENT_STORAGE_PATH=d:/develop/workspace/huihuxi/rag/data/documents

# 向量索引存储路径（绝对路径）
INDEX_PATH=d:/develop/workspace/huihuxi/rag/data/vector_index.pkl

# 临时文件存储路径
TEMP_PATH=d:/develop/workspace/huihuxi/rag/data/temp

# =============================================================================
# 日志配置
# =============================================================================
# 日志级别：DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=d:/develop/workspace/huihuxi/rag/logs/rag.log

# 日志文件最大大小（MB）
LOG_MAX_SIZE_MB=100

# 日志文件保留数量
LOG_BACKUP_COUNT=5

# 是否在控制台输出日志
LOG_TO_CONSOLE=true

# =============================================================================
# 性能优化配置
# =============================================================================
# HTTP 连接超时时间（秒）
HTTP_TIMEOUT=30

# HTTP 连接重试次数
HTTP_MAX_RETRIES=3

# 批量处理大小
BATCH_SIZE=10

# 向量化并发数
EMBEDDING_CONCURRENCY=5

# =============================================================================
# 安全配置
# =============================================================================
# API 密钥（可选，用于API访问控制）
# API_SECRET_KEY=your_api_secret_key

# 允许的CORS源（逗号分隔）
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# 是否启用HTTPS
# ENABLE_HTTPS=false

# SSL证书文件路径（启用HTTPS时需要）
# SSL_CERT_FILE=/path/to/cert.pem
# SSL_KEY_FILE=/path/to/key.pem

# =============================================================================
# 缓存配置
# =============================================================================
# 是否启用向量缓存
ENABLE_VECTOR_CACHE=true

# 向量缓存大小（MB）
VECTOR_CACHE_SIZE_MB=1024

# 搜索结果缓存时间（秒）
SEARCH_CACHE_TTL=300

# =============================================================================
# 监控配置
# =============================================================================
# 是否启用性能监控
ENABLE_MONITORING=true

# 监控数据保留天数
MONITORING_RETENTION_DAYS=30

# 是否记录搜索历史
ENABLE_SEARCH_HISTORY=true

# 搜索历史保留天数
SEARCH_HISTORY_RETENTION_DAYS=90

# =============================================================================
# 开发配置
# =============================================================================
# 是否启用自动重载（开发模式）
AUTO_RELOAD=false

# 是否启用API文档
ENABLE_DOCS=true

# 是否启用详细错误信息
DETAILED_ERRORS=false

# 测试模式（使用内存数据库）
TEST_MODE=false